server:
  name: "mcp-stdio-toolbox"
  version: "0.1.0"
  default_timeout_sec: 30
  max_output_bytes: 1048576

tools:
  - name: "codex_chat"
    description: "Chat with Codex AI (GPT-5 powered) - stable alternative to experimental MCP"
    command: "codex"
    args: ["exec"]
    timeout_sec: 120
    input_schema:
      type: object
      properties:
        prompt:
          type: string
          description: "Question or task for Codex"
        model:
          type: string
          description: "Model to use (gpt-5, gpt-4, etc)"
          default: "gpt-5"
        sandbox:
          type: string
          enum: ["read-only", "workspace-write", "danger-full-access"]
          description: "Sandbox permissions"
          default: "read-only"
        approval:
          type: string
          enum: ["never", "untrusted", "on-failure", "on-request"]
          description: "When to ask for approval"
          default: "never"
      required: ["prompt"]
      arg_mapping:
        - ["-m"]
        - ["model"] 
        - ["-s"]
        - ["sandbox"]
        - ["-a"]
        - ["approval"]
        - ["prompt"]

  - name: "codex_code"
    description: "Code generation and programming assistance via Codex CLI"
    command: "codex"
    args: ["exec"]
    timeout_sec: 90
    input_schema:
      type: object
      properties:
        task:
          type: string
          description: "Coding task or question"
        language:
          type: string
          description: "Programming language context"
          default: "python"
        working_dir:
          type: string
          description: "Working directory"
          default: "."
      required: ["task"]
      arg_mapping:
        - ["-C"]
        - ["working_dir"]
        - ["task"]

  - name: "echo"
    description: "Echo text to stdout"
    command: "echo"
    args: []
    input_schema:
      type: object
      properties:
        text:
          type: string
          description: "Text to echo"
      required: ["text"]
      arg_mapping:
        - ["text"]

  - name: "ls_directory"
    description: "List directory contents"
    command: "ls"
    args: ["-la"]
    input_schema:
      type: object
      properties:
        directory:
          type: string
          description: "Directory to list (optional, defaults to current)"
          default: "."
      arg_mapping:
        - ["directory"]

  - name: "git_status"
    description: "Show git repository status"
    command: "git"
    args: ["status", "--porcelain"]
    input_schema:
      type: object
      properties:
        directory:
          type: string
          description: "Repository directory (optional)"
          default: "."
      arg_mapping:
        - ["-C"]
        - ["directory"]